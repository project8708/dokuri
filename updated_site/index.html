
<!DOCTYPE html>
<html>
<head>
    <title>Order Submission</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
        import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-database.js";
        import { parseMenuData } from './prices.js';

        const firebaseConfig = {
            apiKey: "AIzaSyCI2U6rdm1dVqHa4KTBO7ebiO49cnnM7W4",
            authDomain: "acoustic-arch-320110.firebaseapp.com",
            databaseURL: "https://acoustic-arch-320110-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "acoustic-arch-320110",
            storageBucket: "acoustic-arch-320110.appspot.com",
            messagingSenderId: "975479821242",
            appId: "1:975479821242:web:a6b4d128893cdec1100383",
            measurementId: "G-BGTD7LKT1C"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        const menuText = `[ê¼¬ì¹˜êµ¬ì´]
ê¼¬ì¹˜êµ¬ì´ - {ê³ ê¸°ë¥˜}
ì¸ ì¿ ë„¤			5,500
ë‹­ ë‚ ê°œ			4,500
ë‹­ ê°€ìŠ´ì‚´			4,000
ëª…ë€ë§ˆìš” ê°€ìŠ´ì‚´		5,000
ë¼ì§€ ì‚¼ê²¹			4,000
ë‹­ ë‹¤ë¦¬ì‚´&íŒŒ		5,000
ë‹­ ë‹¤ë¦¬ì‚´			5,000
í•­ì •ì‚´			4,500
ë‹­ ëª©ì‚´			4,000
ê¼¬ì¹˜êµ¬ì´ - {ì•¼ì±„ë¥˜}
ê°ì&ìƒí¬ë¦¼		4,000
ë§ˆëŠ˜			3,000
í‘œê³ ë²„ì„¯&ì™„ì		5,000
ì˜¥ìˆ˜ìˆ˜			5,000
ìƒˆì†¡ì´			4,000
ì€í–‰			4,000
ê¼¬ì¹˜êµ¬ì´ - {ì‚¼ê²¹ë§ì´}
ì–‘ì†¡ì´ ì‚¼ê²¹		4,000
íŒ½ì´ë²„ì„¯ ì‚¼ê²¹		4,000
ë©”ì¶”ë¦¬ì•Œ ì‚¼ê²¹		4,000
ì•„ìŠ¤íŒŒë¼ ì‚¼ê²¹		4,000
ì´ˆìƒê°• ì‚¼ê²¹		4,000
ë§ˆëŠ˜ ì‚¼ê²¹			4,000
í† ë§ˆí†  ì‚¼ê²¹		4,000
ê¼¬ì¹˜êµ¬ì´ - {ê¸°íƒ€}
ë§‰ì°½			4,000
ë‹­ ê»ì§ˆ			3,500
ì—¼í†µ			3,500
ìƒˆìš°			3,500
ê¼¬ì¹˜êµ¬ì´ - {ë‹¨í’ˆìœ¼ë¡œë§Œ ì£¼ë¬¸ê°€ëŠ¥}
ì†Œë“±ì‹¬			5,500
ë‹­ ë¬¼ë ¹ë¼ˆ			4,500
ì–‘ì†¡ì´			4,000

[ì¼í’ˆìš”ë¦¬]
ì—°ì–´ ì‚¬ì‹œë¯¸
(ì˜µì…˜ 1 ì†Œ)		28,000
(ì˜µì…˜ 2 ì¤‘)		36,000
(ì˜µì…˜ 3 ëŒ€)		45,000
ì˜¤ê¼¬ë…¸ë¯¸ì•¼ë¼		19,000
ì‚¼ê²¹ ìˆ™ì£¼ ë³¶ìŒ		18,000
ì†Œê³ ê¸° íƒ€ë‹¤ë¼		27,000

[ìˆ¯ë¶ˆêµ¬ì´]
ëª…ë€ ìˆ¯ë¶ˆêµ¬ì´		10,000
ë©”ë¡œ ìˆ¯ë¶ˆêµ¬ì´		26,000
ë‹­ ëª©ì‚´ ìˆ¯ë¶ˆêµ¬ì´		17,000
ì‹œì‚¬ëª¨ ìˆ¯ë¶ˆêµ¬ì´		10,000

[íƒ•ë¥˜]
ë‚˜ê°€ì‚¬í‚¤ í•´ë¬¼íƒ•		21,000
ê°„ì‚¬ì´ ì˜¤ë…íƒ•		18,000
ì¹´ë ˆ ë‚˜ë² 			22,000
ë©´ì‚¬ë¦¬			2,000
ê³µê¸°ë°¥			2,000

[íŠ€ê¹€]
ë‹­ ê°€ë¼ì•„ê²Œ		18,000
ë‹­ ë¬¼ë ¹ë¼ˆ ê°€ë¼ì•„ê²Œ		19,000
ë‹­ê»ì§ˆ ê°€ë¼ì•„ê²Œ		15,000
ì•„ê²Œë‹¤ì‹œ ë„í›„		13,000

[ìƒëŸ¬ë“œ]
ì—°ì–´ ìƒëŸ¬ë“œ		16,000
í† ë§ˆí†  ìƒëŸ¬ë“œ		11,000

[ì¯”ê»˜]
ë³µë¶„ì ì ˆì„ í† ë§ˆí† 		4,000
íƒ€ì½” ì™€ì‚¬ë¹„		10,000

[ì‹ì‚¬]
ì¹´ë ˆ ìš°ë™			10,000
ì¹´ë ˆ ë¼ì´ìŠ¤		11,000
ê·œë™			9,000
ê³µê¸°ë°¥			2,000

[ì£¼ë¥˜]
ì£¼ë¥˜ - {ì¼ë³¸ì£¼}
ì„¼ë…¸ ìœ ë©” 14%
(ì˜µì…˜1 ì”ìˆ )		5,000
(ì˜µì…˜2 ë„ì¿ ë¦¬)		10,000
(ì˜µì…˜3 1.8L)		55,000
ê°„ë°”ë ˆ ì˜¤ë˜ìƒ		36,000
ì›”ê³„ê´€ ì¤€ë§ˆì´		35,000
ì‚¬ì¿ ë¼ ì¤€ë§ˆì´		45,000
ì›”ê³„ê´€ ì¤€ë§ˆì´ ë‹¤ì´ê¸´ì£ 	85,000
ë‹·ì‚¬ì´ ì¤€ë§ˆì´ ë‹¤ì´ê¸´ì£ 	100,000
ì£¼ë¥˜ - {ì¦ë¥˜ ì†Œì£¼}
ë¹„ì” í´ë¦¬ì–´ 25%		50,000
í…ì† ì½”ìš°ë¦° 25%		80,000
í™”ìš” 25			27,000
í™”ìš” 41			60,000
í™”ìš”set			3,000
ì£¼ë¥˜ - {ìœ„ìŠ¤í‚¤}
ì‚°í† ë¦¬ ê°€ì¿ ë¹ˆ		100,000
ì£¼ë¥˜ - {ìƒë§¥ì£¼}
ì‚¿í¬ë¡œ ìƒë§¥ì£¼		8,000
ì£¼ë¥˜ - {ì¼ë°˜ ì£¼ë¥˜}
ì†Œì£¼			5,000
(ì˜µì…˜1 ëŒ€ì„ ) 
(ì˜µì…˜2 ì°¸ì´ìŠ¬)
(ì˜µì…˜3 ì¢‹ì€ë°ì´)
ë§¥ì£¼			5,000
(ì˜µì…˜1 ì¹´ìŠ¤)
(ì˜µì…˜2 í…Œë¼)
ì²­í•˜			6,000
ì‚°í† ë¦¬ í•˜ì´ë³¼		9,000
ë ˆëª¬ì‚¬ì™€			9,000
[ìŒë£Œ]
ìŒë£Œ			2,500
(ì˜µì…˜ 1 ì œë¡œì½œë¼)
(ì˜µì…˜ 2 ì‚¬ì´ë‹¤)
(ì˜µì…˜ 3 í† ë‹‰ì›Œí„°)
(ì˜µì…˜ 4 ì§„ì €ì—ì¼)
ìš°ë¡±ì°¨
(ì˜µì…˜ 1 Hot)
(ì˜µì…˜ 2 Ice)
[ê¸°íƒ€]
ë ˆëª¬ ìŠ¬ë¼ì´ìŠ¤(1/2)		1,000`; // `ê°€ê²©í‘œ.txt`ì˜ ë‚´ìš©ì„ ì—¬ê¸°ì— ë„£ìŠµë‹ˆë‹¤.
        const menuData = parseMenuData(menuText);

        document.addEventListener('DOMContentLoaded', () => {
            const menuContainer = document.getElementById('menuContainer');
            Object.keys(menuData).forEach(category => {
                const categoryElement = document.createElement('div');
                categoryElement.innerHTML = `<h2>${category}</h2>`;
                menuData[category].forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.innerHTML = `<p>${item.name} - ${item.price}ì›</p>`;
                    itemElement.onclick = () => addToCart(item);
                    categoryElement.appendChild(itemElement);
                });
                menuContainer.appendChild(categoryElement);
            });
        });

        const cart = [];
        function addToCart(item) {
            cart.push(item);
            alert('ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤: ' + item.name);
            // Add additional code for quantity management and transparent alert here
        }

        function submitOrder() {
            const order = { items: cart };
            const ordersRef = ref(database, 'orders');
            push(ordersRef, order).then(() => {
                alert('Order submitted successfully!');
            }).catch((error) => {
                alert('Failed to submit order: ' + error.message);
            });
        }
    </script>
</head>
<body>
    <h1>Order Submission</h1>
    <div id="menuContainer"></div>
    <button onclick="submitOrder()">Submit Order</button>
    <div id="cartIcon" onclick="toggleCart()">ğŸ›’</div>
    <div id="cartContainer">
        <h2>ì¥ë°”êµ¬ë‹ˆ</h2>
        <div id="cartItems"></div>
        <button onclick="submitOrder()">Submit Order</button>
    </div>
    <div class="transparent-alert" id="alertBox">ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!</div>
</body>
<script>
    let cartVisible = false;

    function toggleCart() {
        const cartContainer = document.getElementById('cartContainer');
        cartVisible = !cartVisible;
        cartContainer.style.display = cartVisible ? 'block' : 'none';
    }

    function showTransparentAlert() {
        const alertBox = document.getElementById('alertBox');
        alertBox.style.display = 'block';
        setTimeout(() => {
            alertBox.style.display = 'none';
        }, 2000);
    }

    function addToCart(item) {
        cart.push(item);
        updateCartUI();
        showTransparentAlert();
    }

    function updateCartUI() {
        const cartItems = document.getElementById('cartItems');
        cartItems.innerHTML = '';
        cart.forEach(item => {
            const itemElement = document.createElement('div');
            itemElement.innerHTML = `<p>${item.name} - ${item.price}ì›</p>`;
            cartItems.appendChild(itemElement);
        });
    }
</script>
</html>

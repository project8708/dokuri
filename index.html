<!DOCTYPE html>
<html lang="ko">
<head>
    <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-analytics.js";
import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-database.js";

const firebaseConfig = {
    apiKey: "AIzaSyC4NOvRlMUJ3wonfT4wNi6NjVCbW5k2lVc",
    authDomain: "project87-15906.firebaseapp.com",
    databaseURL: "https://project87-15906-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "project87-15906",
    storageBucket: "project87-15906.appspot.com",
    messagingSenderId: "673281589690",
    appId: "1:673281589690:web:b0897042e01548dd871d83",
    measurementId: "G-RT23236Z4S"
    };

const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const database = getDatabase(app);

function order() {
    if (cart.length === 0) {
        alert("장바구니가 비어 있습니다.");
        return;
    }

    let orderSummary = "주문 내역:\n";
    cart.forEach(cartItem => {
        orderSummary += `- ${cartItem.item} - ${formatPrice(cartItem.price)}원\n`;
    });

    // Firebase 데이터베이스에 주문 정보 저장
    push(ref(database, 'orders'), {
        order: cart,
        totalPrice: totalPrice,
        orderTime: new Date().toISOString()
    });

    alert(orderSummary + `\n총 가격: ${formatPrice(totalPrice)}원\n주문이 완료되었습니다. 감사합니다!`);
    cart = [];
    totalPrice = 0;
    displayCart();
    updateTotalPrice();
    toggleCart();
}
</script>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>메뉴 선택</title>
<style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            background-color: #f8f9fa;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h1 {
            margin: 20px 0;
            color: #343a40;
        }
        .category {
            margin-top: 20px;
            width: 80%;
            max-width: 600px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        .category h2 {
            margin-top: 0;
            color: #007bff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        .menu-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #dee2e6;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .menu-item:hover {
            background-color: #f1f3f5;
        }
        .menu-item .option {
            margin-left: 20px;
            font-size: 14px;
            color: #495057;
            text-align: right;
            width: 70px;
        }
        .cart {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px;
            background-color: #007bff;
            color: white;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .cart-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 80%;
            max-width: 400px;
            z-index: 1000;
        }
        .cart-popup h2 {
            margin-top: 0;
            color: #343a40;
        }
        .cart-popup ul {
            list-style-type: none;
            padding: 0;
        }
        .cart-popup li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }
        .cart-popup .remove-btn {
            background: none;
            border: none;
            color: #dc3545;
            cursor: pointer;
            font-size: 16px;
        }
        .order-button {
            width: 100%;
            margin-top: 20px;
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .close-cart {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }
        .option {
            margin-left: 20px;
            font-size: 14px;
            color: #495057;
            text-align: right;
        }
    </style>
</head>
<body>
    <script>
        function order() {
            if (cart.length === 0) {
                alert("장바구니가 비어 있습니다.");
                return;
            }

            let orderSummary = "주문 내역:\n";
            cart.forEach(cartItem => {
                orderSummary += `- ${cartItem.item} - ${formatPrice(cartItem.price)}원\n`;
            });

            // Firebase 데이터베이스에 주문 정보 저장
            push(ref(database, 'orders'), {
                order: cart,
                totalPrice: totalPrice,
                orderTime: new Date().toISOString()
            });

            alert(orderSummary + `\n총 가격: ${formatPrice(totalPrice)}원\n주문이 완료되었습니다. 감사합니다!`);
            cart = [];
            totalPrice = 0;
            displayCart();
            updateTotalPrice();
            toggleCart();
        }
    </script>
<h1>메뉴 선택</h1>
<div class="category">
<h2>꼬치구이 - 고기류</h2>
<div class="menu-item" onclick="addToCart('츠쿠네', 5500)">츠쿠네 <span class="option">5,500원</span></div>
<div class="menu-item" onclick="addToCart('닭 날개', 4500)">닭 날개 <span class="option">4,500원</span></div>
<div class="menu-item" onclick="addToCart('닭 가슴살', 4000)">닭 가슴살 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('명란마요 가슴살', 5000)">명란마요 가슴살 <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('돼지 삼겹', 4000)">돼지 삼겹 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('닭 다리살&amp;파', 5000)">닭 다리살&amp;파 <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('닭 다리살', 5000)">닭 다리살 <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('항정살', 4500)">항정살 <span class="option">4,500원</span></div>
<div class="menu-item" onclick="addToCart('닭 목살', 4000)">닭 목살 <span class="option">4,000원</span></div>
</div>
<div class="category">
<h2>꼬치구이 - 야채류</h2>
<div class="menu-item" onclick="addToCart('감자&amp;생크림', 4000)">감자&amp;생크림 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('마늘', 3000)">마늘 <span class="option">3,000원</span></div>
<div class="menu-item" onclick="addToCart('표고버섯&amp;완자', 5000)">표고버섯&amp;완자 <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('옥수수', 5000)">옥수수 <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('새송이', 4000)">새송이 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('은행', 4000)">은행 <span class="option">4,000원</span></div>
</div>
<div class="category">
<h2>꼬치구이 - 삼겹말이</h2>
<div class="menu-item" onclick="addToCart('양송이 삼겹', 4000)">양송이 삼겹 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('팽이버섯 삼겹', 4000)">팽이버섯 삼겹 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('메추리알 삼겹', 4000)">메추리알 삼겹 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('아스파라 삼겹', 4000)">아스파라 삼겹 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('초생강 삼겹', 4000)">초생강 삼겹 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('마늘 삼겹', 4000)">마늘 삼겹 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('토마토 삼겹', 4000)">토마토 삼겹 <span class="option">4,000원</span></div>
</div>
<div class="category">
<h2>기타</h2>
<div class="menu-item" onclick="addToCart('막창', 4000)">막창 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('닭 껍질', 3500)">닭 껍질 <span class="option">3,500원</span></div>
<div class="menu-item" onclick="addToCart('염통', 3500)">염통 <span class="option">3,500원</span></div>
<div class="menu-item" onclick="addToCart('새우', 3500)">새우 <span class="option">3,500원</span></div>
</div>
<div class="category">
<h2>단품으로만 주문가능</h2>
<div class="menu-item" onclick="addToCart('소등심', 5500)">소등심 <span class="option">5,500원</span></div>
<div class="menu-item" onclick="addToCart('닭 물령뼈', 4500)">닭 물령뼈 <span class="option">4,500원</span></div>
<div class="menu-item" onclick="addToCart('양송이', 4000)">양송이 <span class="option">4,000원</span></div>
</div>
<div class="category">
<h2>일품요리</h2>
<div class="menu-item" onclick="addToCart('연어 사시미 (소)', 28000)">연어 사시미 (소)<span class="option"> 28,000원</span></div>
<div class="menu-item" onclick="addToCart('연어 사시미 (중)', 36000)">연어 사시미 (중)<span class="option"> 36,000원</span></div>
<div class="menu-item" onclick="addToCart('연어 사시미 (대)', 45000)">연어 사시미 (대)<span class="option"> 45,000원</span></div>
<div class="menu-item" onclick="addToCart('오꼬노미야끼', 19000)">오꼬노미야끼 <span class="option">19,000원</span></div>
<div class="menu-item" onclick="addToCart('삼겹 숙주 볶음', 18000)">삼겹 숙주 볶음 <span class="option">18,000원</span></div>
<div class="menu-item" onclick="addToCart('소고기 타다끼', 27000)">소고기 타다끼 <span class="option">27,000원</span></div>
</div>
<div class="category">
<h2>숯불구이</h2>
<div class="menu-item" onclick="addToCart('명란 숯불구이', 10000)">명란 숯불구이 <span class="option">10,000원</span></div>
<div class="menu-item" onclick="addToCart('메로 숯불구이', 26000)">메로 숯불구이 <span class="option">26,000원</span></div>
<div class="menu-item" onclick="addToCart('닭 목살 숯불구이', 17000)">닭 목살 숯불구이 <span class="option">17,000원</span></div>
<div class="menu-item" onclick="addToCart('시사모 숯불구이', 10000)">시사모 숯불구이 <span class="option">10,000원</span></div>
</div>
<div class="category">
<h2>탕류</h2>
<div class="menu-item" onclick="addToCart('나가사키 해물탕', 21000)">나가사키 해물탕 <span class="option">21,000원</span></div>
<div class="menu-item" onclick="addToCart('간사이 오뎅탕', 18000)">간사이 오뎅탕 <span class="option">18,000원</span></div>
<div class="menu-item" onclick="addToCart('카레 나베', 22000)">카레 나베 <span class="option">22,000원</span></div>
</div>
<div class="category">
<h2>튀김</h2>
<div class="menu-item" onclick="addToCart('닭 가라아게', 18000)">닭 가라아게 <span class="option">18,000원</span></div>
<div class="menu-item" onclick="addToCart('닭 물령뼈 가라아게', 19000)">닭 물령뼈 가라아게 <span class="option">19,000원</span></div>
<div class="menu-item" onclick="addToCart('닭껍질 가라아게', 15000)">닭껍질 가라아게 <span class="option">15,000원</span></div>
<div class="menu-item" onclick="addToCart('아게다시 도후 (연두부 튀김)', 13000)">아게다시 도후 (연두부 튀김) <span class="option">13,000원</span></div>
</div>
<div class="category">
<h2>샐러드</h2>
<div class="menu-item" onclick="addToCart('연어 샐러드', 16000)">연어 샐러드 <span class="option">16,000원</span></div>
<div class="menu-item" onclick="addToCart('토마토 샐러드', 11000)">토마토 샐러드 <span class="option">11,000원</span></div>
</div>
<div class="category">
<h2>쯔께</h2>
<div class="menu-item" onclick="addToCart('복분자 절임 토마토', 4000)">복분자 절임 토마토 <span class="option">4,000원</span></div>
<div class="menu-item" onclick="addToCart('타코 와사비', 10000)">타코 와사비 <span class="option">10,000원</span></div>
</div>
<div class="category">
<h2>식사</h2>
<div class="menu-item" onclick="addToCart('카레 우동', 10000)">카레 우동 <span class="option">10,000원</span></div>
<div class="menu-item" onclick="addToCart('카레 라이스', 11000)">카레 라이스 <span class="option">11,000원</span></div>
<div class="menu-item" onclick="addToCart('규동', 9000)">규동 <span class="option">9,000원</span></div>
<div class="menu-item" onclick="addToCart('공기밥', 2000)">공기밥 <span class="option">2,000원</span></div>
</div>

<div class="category">
<h2>주류</h2>
<div class="menu-item" onclick="addToCart('센노 유메 (잔술)', 5000)">센노 유메 (잔술) <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('센노 유메 (도쿠리)', 10000)">센노 유메 (도쿠리) <span class="option">10,000원</span></div>
<div class="menu-item" onclick="addToCart('센노 유메 (1.8L)', 55000)">센노 유메 (1.8L) <span class="option">55,000원</span></div>
<div class="menu-item" onclick="addToCart('간바레 오또상', 36000)">간바레 오또상 <span class="option">36,000원</span></div>
<div class="menu-item" onclick="addToCart('월계관 준마이', 35000)">월계관 준마이 <span class="option">35,000원</span></div>
<div class="menu-item" onclick="addToCart('사쿠라 준마이', 45000)">사쿠라 준마이 <span class="option">45,000원</span></div>
<div class="menu-item" onclick="addToCart('월계관 준마이 다이긴죠', 85000)">월계관 준마이 다이긴죠 <span class="option">85,000원</span></div>
<div class="menu-item" onclick="addToCart('닷사이 준마이 다이긴죠', 100000)">닷사이 준마이 다이긴죠 <span class="option">100,000원</span></div>
<div class="menu-item" onclick="addToCart('비잔 클리어', 50000)">비잔 클리어 <span class="option">50,000원</span></div>
<div class="menu-item" onclick="addToCart('텐손 코우린', 80000)">텐손 코우린 <span class="option">80,000원</span></div>
<div class="menu-item" onclick="addToCart('화요 25', 27000)">화요 25 <span class="option">27,000원</span></div>
<div class="menu-item" onclick="addToCart('화요 41', 60000)">화요 41 <span class="option">60,000원</span></div>
<div class="menu-item" onclick="addToCart('화요set', 3000)">화요set <span class="option">3,000원</span></div>
<div class="menu-item" onclick="addToCart('산토리 가쿠빈', 100000)">산토리 가쿠빈 <span class="option">100,000원</span></div>
<div class="menu-item" onclick="addToCart('삿포로 생맥주', 8000)">삿포로 생맥주 <span class="option">8,000원</span></div>
<div class="menu-item" onclick="addToCart('소주 (대선)', 5000)">소주 (대선) <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('소주 (참이슬)', 5000)">소주 (참이슬) <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('소주 (좋은데이)', 5000)">소주 (좋은데이) <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('맥주 (카스)', 5000)">맥주 (카스) <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('맥주 (테라)', 5000)">맥주 (테라) <span class="option">5,000원</span></div>
<div class="menu-item" onclick="addToCart('청하', 6000)">청하 <span class="option">6,000원</span></div>
<div class="menu-item" onclick="addToCart('산토리 하이볼', 9000)">산토리 하이볼 <span class="option">9,000원</span></div>
<div class="menu-item" onclick="addToCart('레몬사와', 9000)">레몬사와 <span class="option">9,000원</span></div>
</div><div class="category">
<h2>음료</h2>
<div class="menu-item" onclick="addToCart('콜라', 2500)">콜라 <span class="option">2,500원</span></div>
<div class="menu-item" onclick="addToCart('사이다', 2500)">사이다 <span class="option">2,500원</span></div>
<div class="menu-item" onclick="addToCart('토닉워터', 2500)">토닉워터 <span class="option">2,500원</span></div>
<div class="menu-item" onclick="addToCart('진저에일', 2500)">진저에일 <span class="option">2,500원</span></div>
<div class="menu-item" onclick="addToCart('우롱차 (Ice)', 2500)">우롱차 (Ice) <span class="option">2,500원</span></div>
<div class="menu-item" onclick="addToCart('우롱차 (Hot)', 2500)">우롱차 (Hot) <span class="option">2,500원</span></div>
</div>
<div class="cart" onclick="toggleCart()">🛒</div>
<div class="overlay" id="overlay" onclick="toggleCart()"></div>
<div class="cart-popup" id="cart-popup">
<button class="close-cart" onclick="toggleCart()">✖</button>
<h2>장바구니</h2>
<ul id="cart-list"></ul>
<p id="total-price">총 가격: 0원</p>
<button class="order-button" onclick="order()">주문하기</button>
</div>
<script>
        let cart = [];
        let totalPrice = 0;

        function addToCart(item, price) {
            cart.push({ item, price });
            totalPrice += price;
            alert(item + "이(가) 장바구니에 추가되었습니다.");
            updateTotalPrice();
        }

        function toggleCart() {
            const cartPopup = document.getElementById('cart-popup');
            const overlay = document.getElementById('overlay');
            if (cartPopup.style.display === 'none' || cartPopup.style.display === '') {
                cartPopup.style.display = 'block';
                overlay.style.display = 'block';
                displayCart();
            } else {
                cartPopup.style.display = 'none';
                overlay.style.display = 'none';
            }
        }

        function displayCart() {
            const cartList = document.getElementById('cart-list');
            cartList.innerHTML = '';
            cart.forEach((cartItem, index) => {
                const li = document.createElement('li');
                li.textContent = `${cartItem.item} - ${formatPrice(cartItem.price)}원`;
                const removeBtn = document.createElement('button');
                removeBtn.textContent = '✖';
                removeBtn.classList.add('remove-btn');
                removeBtn.onclick = () => removeFromCart(index);
                li.appendChild(removeBtn);
                cartList.appendChild(li);
            });
        }

        function removeFromCart(index) {
            totalPrice -= cart[index].price;
            cart.splice(index, 1);
            displayCart();
            updateTotalPrice();
        }

        function updateTotalPrice() {
            const totalPriceElement = document.getElementById('total-price');
            totalPriceElement.textContent = `총 가격: ${formatPrice(totalPrice)}원`;
        }

        function formatPrice(price) {
            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }

        function order() {
        if (cart.length === 0) {
            alert("장바구니가 비어 있습니다.");
            return;
        }

        let orderSummary = "주문 내역:\n";
        cart.forEach(cartItem => {
            orderSummary += `- ${cartItem.item} - ${formatPrice(cartItem.price)}원\n`;
        });

        // Firebase 데이터베이스에 주문 정보 저장
        firebase.database().ref('orders').push({
            order: cart,
            totalPrice: totalPrice,
            orderTime: new Date().toISOString()
        });

        alert(orderSummary + `\n총 가격: ${formatPrice(totalPrice)}원\n주문이 완료되었습니다. 감사합니다!`);
        cart = [];
        totalPrice = 0;
        displayCart();
        updateTotalPrice();
        toggleCart();
    }
    </script>
</body>
</html>
